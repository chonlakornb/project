<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Browser API Tests</title>
  <link rel="stylesheet" href="https://unpkg.com/mocha@9.2.2/mocha.css" />
  <style>body{font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;padding:12px}</style>
</head>
<body>
  <h2>Browser API Tests</h2>
  <div id="mocha"></div>

  <!-- Use UMD builds to avoid ESM 'export' errors in classic scripts -->
  <script src="https://unpkg.com/mocha@9.2.2/mocha.js"></script>
  <script src="https://unpkg.com/chai@4.3.7/chai.js"></script>
  <script>
    // Initialize mocha and expose expect globally so browser-tests.js can access it.
    mocha.setup('bdd');
    window.expect = window.expect || (window.chai && window.chai.expect);
  </script>

  <!-- load your browser tests (already guarded so Node won't execute them) -->
  <script src="./browser-tests.js"></script>

  <script>
    // Optionally override BASE_URL from the console before tests run:
    // window.__BASE_API_URL__ = 'http://localhost:3000';
    window.addEventListener('load', () => setTimeout(() => mocha.run(), 50));
  </script>
</body>
</html>
